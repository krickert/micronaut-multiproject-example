micronaut:
  application:
    name: yappy-integration-test

# This section is PERFECT. It configures the containers and their aliases.
# DO NOT CHANGE THIS PART.
test-resources:
  containers:
    hashicorp-consul:
      network-aliases:
        - consul
    moto-server:
      network-aliases:
        - moto
    opensearch3:
      network-aliases:
        - opensearch
    apicurio-registry:
      network-aliases:
        - apicurio
    kafka:
      network-aliases:
        - kafka
    engine-tika-parser:
      network-aliases:
        - engine-tika-parser

# --- ALL THE SECTIONS BELOW ARE NOW CONFIGURED BY YOUR PROVIDERS ---
# --- SO WE REMOVE THEM FROM THE YAML TO LET THE PROVIDERS WORK ---

# Schema registry type is still needed by the application logic
kafka:
  schema:
    registry:
      type: apicurio
# The 'kafka.bootstrap.servers' property will be created by the Kafka provider.

# These are application-specific properties, not connection details, so they are OK to keep.
app:
  config:
    consul:
      key-prefixes:
        pipeline-clusters: "config/pipeline/clusters"
        schema-versions: "config/pipeline/schemas"
        whitelists: "config/pipeline/whitelists"

# The 'consul.client.host' and 'port' will be created by the Consul provider.
# The 'apicurio.registry.url' will be created by the Apicurio provider.
# The 'opensearch.url' will be created by the OpenSearch provider.

# This can be removed, it's not a standard property.
testcontainers:
  enabled: true

# These are inputs for your custom provider, so they are OK to keep.
yappy:
  engine:
    name: test-engine
  cluster:
    name: test-cluster
# The 'yappy.engine.http.url' will be created by your EngineTikaParserTestResourceProvider.

# Logging configuration is fine to keep.
logger:
  levels:
    ROOT: INFO
    com.krickert: DEBUG
    org.testcontainers: INFO
    com.github.dockerjava: WARN
    docker.image.pull: WARN
    io.micronaut.testresources: DEBUG
    io.micronaut.testresources.client: TRACE